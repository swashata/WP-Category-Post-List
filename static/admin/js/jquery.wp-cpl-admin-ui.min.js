/**
 * iPanelThemes Plugin Framework
 *
 * This is a jQuery plugin which works on the plugin framework to populate the UI
 * Admin area
 *
 * @dependency jquery, jquery-ui-widget, jquery-ui-mouse, jquery-ui-button, jquery-touch-punch, jquery-ui-draggable,
 * jquery-ui-droppable, jquery-ui-sortable, jquery-ui-datepicker, jquery-ui-dialog, jquery-ui-tabs, jquery-ui-slider,
 * jquery-ui-spinner, jquery-ui-progressbar, jquery-timepicker-addon, jquery-print-element, jquery-mwheelIntent, jquery-mousewheel
 *
 * @author Swashata Ghosh <swashata@ipanelthemes.com>
 * @version 2
 * @license    GPL v3
 */
!function(t,i,e,n){"use strict";function a(i,e){this.element=i,this.jElement=t(this.element),this.settings=t.extend({},l,e),this._defaults=l,this._name=o,this.init()}var o="initCPLUI",l={applyUIOnly:!1,callback:null};a.prototype={init:function(){return this.settings.applyUIOnly===!0?(this.initUIElements(),void this.initSDA(!0)):(this.initUIElements(),this.initUIElementsDelegated(),void this.initSDA(!1))},debugLog:function(t){try{console&&console.log&&console.log(t)}catch(t){}},initSDA:function(t){var i=this;this.jElement.find(".ipt_uif_sda").each(function(){i.uiSDAinit.apply(this),i.uiSDAsort.apply(this)}),t!==!0&&(i.edSDAattachAdd(),i.edSDAattachDel())},initUIElements:function(){this.uiCheckboxToggler(),this.uiApplySlider(),this.uiApplyProgressBar(),this.uiApplyDateTimePicker(),this.uiApplyFontSelector(),this.uiApplyThemeSelector(),this.uiApplyUploader(),this.uiApplyIRIS(),this.uiApplyConditionalInput(),this.uiApplyConditionalSelect(),this.uiApplyCollapsible(),this.uiApplyTabs(),this.uiApplyUIInits()},uiApplyUIInits:function(){this.jElement.find(".ipt_uif_ui_init_loader").hide(),this.jElement.find(".ipt_uif_ui_hidden_init").css("visibility","visible").fadeIn("fast")},uiCheckboxToggler:function(){var i=this.jElement;i.find(".ipt_uif_checkbox_toggler").each(function(){var i=t(this);i.is(":checked")&&t(i.data("selector")).prop("checked",!0)})},uiApplySpinner:function(){this.jElement.find(".ipt_uif_uispinner").spinner()},uiApplySlider:function(){this.jElement.find(".ipt_uif_slider").each(function(){var i,e,n,a,o,l,s,p,d,u,f=t(this),c=null;i=parseFloat(t(this).data("step")),isNaN(i)&&(i=1),e=parseFloat(t(this).data("min")),isNaN(e)&&(e=1),n=parseFloat(t(this).data("max")),isNaN(n)&&(n=null),a=parseFloat(t(this).val()),isNaN(a)&&(a=e),o=!!t(this).hasClass("slider_range"),l={min:e,max:n,step:i,range:!1},o&&(c=f.next("input"),s=parseFloat(c.val()),isNaN(s)&&(s=e)),p=f.prev("div.ipt_uif_slider_count"),d=t("<div />"),d.addClass(o?"ipt_uif_slider_range":"ipt_uif_slider_single").addClass("ipt_uif_slider_div"),u=o?c.next("div"):f.next("div"),u.length&&u.remove(),o?c.after(d):f.after(d),o?(l.slide=function(t,i){f.val(i.values[0]),c.val(i.values[1]),p.length&&(p.find("span.ipt_uif_slider_count_min").text(i.values[0]),p.find("span.ipt_uif_slider_count_max").text(i.values[1]))},l.values=[a,s],l.range=!0):(l.slide=function(t,i){f.val(i.value),p.length&&p.find("span").text(i.value)},l.value=a),p.length&&(o?(p.find("span.ipt_uif_slider_count_min").text(a),p.find("span.ipt_uif_slider_count_max").text(s)):p.find("span").text(a)),d.slider(l)})},uiApplyProgressBar:function(){this.jElement.find(".ipt_uif_progress_bar").each(function(){var i=t(this),e=i.data("start")?i.data("start"):0,n=i.find(".ipt_uif_progress_value").addClass("code");n.html(e+"%");var a=i.progressbar({value:e,change:function(i,e){n.html(t(this).progressbar("option","value")+"%")}});i.next(".ipt_uif_button_container").find(".ipt_uif_button.progress_random_fun").length&&i.next(".ipt_uif_button_container").find(".ipt_uif_button.progress_random_fun").on("click",function(){var t=parseInt(100*Math.random());return a.progressbar("option","value",t),!1})})},uiApplyDateTimePicker:function(){this.jElement.find(".ipt_uif_datepicker input.ipt_uif_text").datepicker({dateFormat:"yy-mm-dd",beforeShow:function(){t("body").addClass("ipt_uif_common")},onClose:function(){t("body").removeClass("ipt_uif_common")},showButtonPanel:!0,closeText:WPCPLl10n.closeText,currentText:WPCPLl10n.currentText,monthNames:WPCPLl10n.monthNames,monthNamesShort:WPCPLl10n.monthNamesShort,dayNames:WPCPLl10n.dayNames,dayNamesShort:WPCPLl10n.dayNamesShort,dayNamesMin:WPCPLl10n.dayNamesMin,firstDay:WPCPLl10n.firstDay,isRTL:WPCPLl10n.isRTL,timezoneText:WPCPLl10n.timezoneText}),this.jElement.find(".ipt_uif_datetimepicker input.ipt_uif_text").datetimepicker({dateFormat:"yy-mm-dd",timeFormat:"HH:mm:ss",beforeShow:function(){t("body").addClass("ipt_uif_common")},onClose:function(){t("body").removeClass("ipt_uif_common")},showButtonPanel:!0,closeText:WPCPLl10n.closeText,currentText:WPCPLl10n.tcurrentText,monthNames:WPCPLl10n.monthNames,monthNamesShort:WPCPLl10n.monthNamesShort,dayNames:WPCPLl10n.dayNames,dayNamesShort:WPCPLl10n.dayNamesShort,dayNamesMin:WPCPLl10n.dayNamesMin,firstDay:WPCPLl10n.firstDay,isRTL:WPCPLl10n.isRTL,amNames:WPCPLl10n.amNames,pmNames:WPCPLl10n.pmNames,timeSuffix:WPCPLl10n.timeSuffix,timeOnlyTitle:WPCPLl10n.timeOnlyTitle,timeText:WPCPLl10n.timeText,hourText:WPCPLl10n.hourText,minuteText:WPCPLl10n.minuteText,secondText:WPCPLl10n.secondText,millisecText:WPCPLl10n.millisecText,microsecText:WPCPLl10n.microsecText,timezoneText:WPCPLl10n.timezoneText})},uiApplyFontSelector:function(){this.jElement.find(".ipt_uif_font_selector").each(function(){var i=t(this).find("select").eq(0),e=t(this).find(".ipt_uif_font_preview").eq(0),n=i.find("option:selected"),a=n.data("fontinclude"),o=n.val(),l=n.text();t("#ipt_uif_webfont_"+o).length||t('<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family='+a+'" id="ipt_uif_webfont_'+o+'" />').appendTo("head"),e.css({fontFamily:l})})},uiApplyThemeSelector:function(){this.jElement.find(".ipt_uif_theme_selector").each(function(){var i,e=t(this),n=e.next(".ipt_uif_theme_preview"),a=e.find("option:selected"),o=a.data("colors"),l="";for(i=0;i<o.length;i++)l+='<div style="background-color: #'+o[i]+';"></div>';n.html(l)})},uiApplyUploader:function(){var i=this;this.jElement.find(".ipt_uif_upload").each(function(){var e,n=t(this),a=n.find("input"),o=n.find("div.ipt_uif_upload_bg"),l=n.find("button.ipt_uif_upload_button"),s=n.find("button.ipt_uif_upload_cancel");l.length&&a.length&&(e=a.val(),o.hide(),i.testImage(e)?o.show().find(".ipt_uif_upload_preview").css({backgroundImage:'url("'+e+'")'}).show():""===e&&(o.hide().find(".ipt_uif_upload_preview").css({backgroundImage:"none"}),s.hide()))})},uiApplyIRIS:function(){this.jElement.find(".ipt_uif_colorpicker").wpColorPicker()},uiApplyConditionalInput:function(){this.jElement.find(".ipt_uif_conditional_input").each(function(){var i,e,n=t(this),a=n.find("input"),o=[],l=[];for(a.each(function(){i=t(this).data("condid"),i="string"==typeof i?i.split(","):[],t(this).is(":checked")?o.push.apply(o,i):l.push.apply(l,i)}),e=0;e<l.length;e++)t("#"+l[e]).stop(!0,!0).hide();for(e=0;e<o.length;e++)t("#"+o[e]).stop(!0,!0).show()})},uiApplyConditionalSelect:function(){this.jElement.find(".ipt_uif_conditional_select").each(function(){var i,e,n=t(this),a=n.find("select"),o=[],l=[];for(a.find("option").each(function(){i=t(this).data("condid"),i="string"==typeof i?i.split(","):[],t(this).is(":selected")?o.push.apply(o,i):l.push.apply(l,i)}),e=0;e<l.length;e++)t("#"+l[e]).stop(!0,!0).hide();for(e=0;e<o.length;e++)t("#"+o[e]).stop(!0,!0).show()})},uiApplyCollapsible:function(){this.jElement.find(".ipt_uif_collapsible_handle_anchor").each(function(){var i=t(this),e=i.closest(".ipt_uif_collapsible"),n=e.find("> .ipt_uif_collapsed");1==e.data("opened")?(n.show(),i.addClass("ipt_uif_collapsible_open")):(n.hide(),i.removeClass("ipt_uif_collapsible_open"))})},uiApplyTabs:function(){this.jElement.find(".ipt_uif_tabs").each(function(){t(this).tabs({collapsible:t(this).data("collapsible")}),t(this).hasClass("vertical")&&(t(this).addClass("ui-tabs-vertical ui-helper-clearfix"),t(this).find("> ul > li").removeClass("ui-corner-top").addClass("ui-corner-left"))})},uiSDAinit:function(){var i=t(this),e=i.find("> .ipt_uif_sda_foot button.ipt_uif_sda_button"),n={sort:1==i.data("draggable"),add:1==i.data("addable"),del:1==i.data("addable"),count:e.length&&e.data("count")?e.data("count"):0,key:e.length&&e.data("key")?e.data("key"):"__KEY__",confirmDel:e.length&&e.data("confirm")?e.data("confirm"):"Are you sure you want to delete? This can not be undone.",confirmTitle:e.length&&e.data("confirmtitle")?e.data("confirmtitle"):"Confirmation of Deletion"},a=i.find("> .ipt_uif_sda_body > .ipt_uif_sda_elem").length;0==a?i.addClass("ipt-uif-sda-empty"):i.removeClass("ipt-uif-sda-empty"),i.data("iptSDAdata",n)},uiSDAsort:function(){var i=t(this),e=i.data("iptSDAdata");e.sort===!0&&i.find("> .ipt_uif_sda_body").sortable({items:"div.ipt_uif_sda_elem",placeholder:"ipt_uif_sda_highlight",handle:"div.ipt_uif_sda_drag",distance:5,axis:"y",start:function(t,i){i.placeholder.height(i.item.outerHeight())},helper:"original",cursor:"move",appendTo:i.closest(".ipt_uif_sda_body")})},initUIElementsDelegated:function(){this.edApplyHelp(),this.edCheckboxToggler(),this.edSliderInput(),this.edDateTimeNow(),this.edApplyPrintElement(),this.edApplyFontSelector(),this.edApplyThemeSelector(),this.edApplyUploader(),this.edApplyConditionalInput(),this.edApplyConditionalSelect(),this.edApplyCollapsible(),this.edApplyDeleteConfirm(),this.edApplyMessageDismiss()},edApplyMessageDismiss:function(){this.jElement.on("click",".ipt_uif_message_dismiss",function(i){i.preventDefault(),t(this).closest(".ipt_uif_message").fadeOut("fast")})},edApplyHelp:function(i){this.jElement.on("click",".ipt_uif_msg",function(i){i.preventDefault();var e,a,o=t(this).find(".ipt_uif_msg_icon"),l=o.attr("title");n!==l&&""!==l||(l=n!==(e=o.parent().parent().siblings("th").find("label").html())?e:initCPLUI.L10n.help),a=t("<div>"+o.next(".ipt_uif_msg_body").html()+"</div>");var s={};s[initCPLUI.L10n.got_it]=function(){t(this).dialog("close")},a.dialog({autoOpen:!0,buttons:s,modal:!0,minWidth:600,closeOnEscape:!0,title:l,create:function(i,e){t("body").addClass("ipt_uif_common")},close:function(i,e){t("body").removeClass("ipt_uif_common")}})})},edCheckboxToggler:function(){this.jElement.on("change",".ipt_uif_checkbox_toggler",function(){var i=t(t(this).data("selector")),e=t(this);e.is(":checked")?i.prop("checked",!0).trigger("change"):i.prop("checked",!1).trigger("change")})},edSliderInput:function(){this.jElement.on("change",".ipt_uif_slider",function(){var i,e,n=t(this),a=n.prev(".ipt_uif_slider_count");n.hasClass("slider_range")?(i=n.next(".ipt_uif_slider_range_max"),e=i.next(".ipt_uif_slider_div"),e.slider({values:[parseFloat(n.val()),parseFloat(i.val())]}),a.find("span.ipt_uif_slider_count_min").text(parseFloat(n.val()))):(e=n.next(".ipt_uif_slider_div"),e.slider({value:parseFloat(n.val())}),a.find("span").text(parseFloat(n.val())))}),this.jElement.on("change",".ipt_uif_slider_range_max",function(){var i=t(this),e=i.prev(".ipt_uif_slider"),n=i.next(".ipt_uif_slider_div"),a=e.prev(".ipt_uif_slider_count");n.slider({values:[parseFloat(e.val()),parseFloat(i.val())]}),a.find("span.ipt_uif_slider_count_max").text(parseFloat(i.val()))})},edDateTimeNow:function(){this.jElement.on("click",".ipt_uif_datepicker_now",function(){t(this).nextAll(".ipt_uif_text").val("NOW")})},edApplyPrintElement:function(){this.jElement.on("click",".ipt_uif_printelement",function(){t("#"+t(this).data("printid")).printElement({leaveOpen:!0,printMode:"popup",pageTitle:e.title})})},edApplyFontSelector:function(){this.jElement.on("change keyup",".ipt_uif_font_selector select",function(i){var e=t(this),n=e.closest(".ipt_uif_font_selector").find(".ipt_uif_font_preview").eq(0),a=e.find("option:selected"),o=a.data("fontinclude"),l=a.val(),s=a.text();t("#ipt_uif_webfont_"+l).length||t('<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family='+o+'" id="ipt_uif_webfont_'+l+'" />').appendTo("head"),n.css({fontFamily:s})})},edApplyThemeSelector:function(){this.jElement.on("change keyup",".ipt_uif_theme_selector",function(){var i,e=t(this),n=e.next(".ipt_uif_theme_preview"),a=e.find("option:selected"),o=a.data("colors"),l="";for(n.html(""),i=0;i<o.length;i++)l+='<div style="background-color: #'+o[i]+';"></div>';n.html(l)})},edApplyUploader:function(){var i=this;this.jElement.on("click",".ipt_uif_upload .ipt_uif_upload_preview",function(){var i=t(this).closest(".ipt_uif_upload"),e=i.find("input");tb_show("",e.val()+"?TB_iframe=true")}),this.jElement.on("click",".ipt_uif_upload .ipt_uif_upload_cancel",function(i){i.preventDefault();var e=t(this).closest(".ipt_uif_upload"),n=e.find("input"),a=e.find("div.ipt_uif_upload_bg"),o=(e.find("button.ipt_uif_upload_button"),e.find("button.ipt_uif_upload_cancel")),l=e.find("a");n.val(""),a.hide(),l.hide(),o.hide()}),this.jElement.on("change",".ipt_uif_upload .ipt_uif_text",function(){var i=t(this).closest(".ipt_uif_upload"),e=i.find("div.ipt_uif_upload_bg");e.show().find(".ipt_uif_upload_preview").css({backgroundImage:'url("'+t(this).val()+'")'})}),this.jElement.on("click",".ipt_uif_upload button.ipt_uif_upload_button",function(e){e.preventDefault();var a=t(this).closest(".ipt_uif_upload"),o=a.find("input"),l=a.find("div.ipt_uif_upload_bg"),s=a.find("button.ipt_uif_upload_button"),p=a.find("button.ipt_uif_upload_cancel"),d=a.data("iptUIFwpMediaFrame"),u={input:o,preview:l,self:s,cancel:p};return d?void d.open():(d=wp.media.frames.ipt_uif_wp_media_frame=wp.media({title:o.data("title"),button:{text:o.data("select")},multiple:!1}),d.on("select",function(){var e,a=d.state().get("selection").first().toJSON();u.preview.hide(),i.testImage(a.url)?u.preview.show().find(".ipt_uif_upload_preview").css({backgroundImage:'url("'+a.url+'")'}):""===a.url&&u.preview.hide().find(".ipt_uif_upload_preview").css({backgroundImage:"none"}),u.input.val(a.url),e=u.input.data("settitle"),e!==n&&t("#"+e).length&&t("#"+e).val(a.title),u.cancel.show()}),d.open(),void a.data("iptUIFwpMediaFrame",d))})},edApplyConditionalInput:function(){this.jElement.on("change",".ipt_uif_conditional_input",function(i){var e,n,a=t(this),o=a.find("input"),l=[],s=[];for(o.each(function(){e=t(this).data("condid"),e="string"==typeof e?e.split(","):[],t(this).is(":checked")?l.push.apply(l,e):s.push.apply(s,e)}),n=0;n<s.length;n++)t("#"+s[n]).stop(!0,!0).hide();for(n=0;n<l.length;n++)t("#"+l[n]).stop(!0,!0).fadeIn("fast")})},edApplyConditionalSelect:function(){this.jElement.on("change keyup",".ipt_uif_conditional_select",function(i){var e,n,a=t(this),o=a.find("select"),l=[],s=[];for(o.find("option").each(function(){e=t(this).data("condid"),e="string"==typeof e?e.split(","):[],t(this).is(":selected")?l.push.apply(l,e):s.push.apply(s,e)}),n=0;n<s.length;n++)t("#"+s[n]).stop(!0,!0).hide();for(n=0;n<l.length;n++)t("#"+l[n]).stop(!0,!0).fadeIn("fast")})},edApplyCollapsible:function(){this.jElement.on("click",".ipt_uif_collapsible_handle_anchor",function(i){var e=t(this),n=e.closest(".ipt_uif_collapsible").find("> .ipt_uif_collapsed");e.toggleClass("ipt_uif_collapsible_open"),n.slideToggle("normal")})},edApplyDeleteConfirm:function(){this.jElement.on("click",".wp-list-table a.delete",function(e){e.preventDefault();var n=t(this);t("<div>"+initCPLUI.L10n.delete_msg+"</div>").dialog({autoOpen:!0,modal:!0,minWidth:400,closeOnEscape:!0,title:initCPLUI.L10n.delete_title,buttons:{Confirm:function(){i.location.href=n.attr("href"),t(this).dialog("close")},Cancel:function(){t(this).dialog("close")}},create:function(i,e){t("body").addClass("ipt_uif_common")},close:function(i,e){t("body").removeClass("ipt_uif_common")}})})},edSDAattachDel:function(){var i=this;this.jElement.on("click",".ipt_uif_sda_del",function(e){e.preventDefault();var n=t(this),a=n.closest(".ipt_uif_sda").data("iptSDAdata"),o=t("<p>"+a.confirmDel+"</p>");o.dialog({autoOpen:!0,modal:!0,minWidth:400,closeOnEscape:!0,title:a.confirmTitle,buttons:{Confirm:function(){i.edSDAdel.apply(n),t(this).dialog("close")},Cancel:function(){t(this).dialog("close")}},create:function(i,e){t("body").addClass("ipt_uif_common")},close:function(i,e){t("body").removeClass("ipt_uif_common")}})})},edSDAdel:function(){var i=t(this).closest(".ipt_uif_sda_elem"),e=t(this).closest(".ipt_uif_sda");i.slideUp("normal"),i.css("background-color","#ffaaaa").animate({"background-color":"#ffffff"},"normal",function(){i.stop().remove();var t=e.find("> .ipt_uif_sda_body > .ipt_uif_sda_elem").length;0==t?e.addClass("ipt-uif-sda-empty"):e.removeClass("ipt-uif-sda-empty"),e.trigger("SDADelete.eform")})},edSDAattachAdd:function(){var i=this;this.jElement.on("click",".ipt_uif_sda_foot button.ipt_uif_sda_button",function(e){e.preventDefault();var n,a,o=t(this),l=o.closest(".ipt_uif_sda"),s=l.data("iptSDAdata"),p=l.find("> .ipt_uif_sda_data").text(),d=s.count++,u=new RegExp(i.quote(s.key),"g");p=t("<div></div>").html(p).text(),p=p.replace(u,d),n=t('<div class="ipt_uif_sda_elem"></div>').append(p),l.find("> .ipt_uif_sda_body").append(n),n.initCPLUI({applyUIOnly:!0}),n.find("input, textarea, select").eq(0).focus(),a=n.css("background-color"),n.hide().slideDown("fast").css("background-color","#aaffaa").animate({"background-color":a},"normal",function(){l.trigger("SDAAdd.eform")}),o.data("count",s.count),o.attr("data-count",s.count);var f=l.find("> .ipt_uif_sda_body > .ipt_uif_sda_elem").length;0==f?l.addClass("ipt-uif-sda-empty"):l.removeClass("ipt-uif-sda-empty")})},testImage:function(t){return/\.(gif|jpg|jpeg|tiff|png)$/i.test(t)},quote:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},stripTags:function(i){var e=t("<div />"),n="";return e.html(i),n=e.text(),e.remove(),n},yourOtherFunction:function(){}};var s={init:function(i){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new a(this,i))})},reinitTBAnchors:function(){var n=t("#TB_window"),a=t(i).width(),o=t(i).height(),l=1024<a?1024:a,s=0;return t("body.admin-bar").length&&(s=28),n.length&&(n.width(l-50).height(o-45-s),t("#TB_iframeContent").width(l-50).height(o-75-s),t("#TB_ajaxContent").width(l-80).height(o-95-s),n.css({"margin-left":"-"+parseInt((l-50)/2,10)+"px"}),"undefined"!=typeof e.body.style.maxWidth&&n.css({top:20+s+"px","margin-top":"0"})),t("a.thickbox").each(function(){var i=t(this).attr("href");i&&(i=i.replace(/&width=[0-9]+/g,""),i=i.replace(/&height=[0-9]+/g,""),t(this).attr("href",i+"&width="+(l-80)+"&height="+(o-85-s)))})}};t.fn[o]=function(i){return s[i]?s[i].apply(this,Array.prototype.slice.call(arguments,1)):("object"!=typeof i&&i?t.error("Method "+i+" does not exist on jQuery."+o):s.init.apply(this,arguments),this)}}(jQuery,window,document),jQuery(document).ready(function(t){t(".wp-cpl-backoffice").initCPLUI(),t(document).initCPLUI("reinitTBAnchors")});
//# sourceMappingURL=jquery.wp-cpl-admin-ui.min.js.map